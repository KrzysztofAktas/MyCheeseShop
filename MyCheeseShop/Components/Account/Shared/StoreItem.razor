@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@using MyCheeseShop.Model
@inject ShoppingCart ShoppingCart
@inject ProtectedSessionStorage ProtectedSessionStore



<div class="col">
    <div class="card">
        <img url="@Cheese.ImageUrl" class="card-img-top" />
        <div class="card-body">
            <p class="card-text">@Cheese.Name</p>
        </div>
    </div>
</div>






@code {
    [Parameter]
    public Cheese Cheese { get; set; }

    private int quantity = 1;

    public async Task AddToCart()
    {
        ShoppingCart.AddItem(Cheese, quantity);
        await ProtectedSessionStore.SetAsync("cart", ShoppingCart.GetItems());
    }

}
